"""
–ù–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ HiDL.

–ö–∞–∂–¥—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äì —ç—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
—Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞–∂–∞—Ç–∏—è reply‚Äë–∫–Ω–æ–ø–æ–∫ –∏ inline‚Äë–∫–Ω–æ–ø–æ–∫.
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Dict, List, Literal


StepType = Literal["message", "button_reply", "button_inline"]


@dataclass
class ScenarioStep:
    type: StepType
    text: str | None = None
    label: str | None = None


Scenario = List[ScenarioStep]


def _m(text: str) -> ScenarioStep:
    return ScenarioStep(type="message", text=text)


def _br(label: str) -> ScenarioStep:
    return ScenarioStep(type="button_reply", label=label)


def _bi(label: str) -> ScenarioStep:
    return ScenarioStep(type="button_inline", label=label)


SCENARIOS: Dict[str, Scenario] = {
    # ========== –ë–ê–ó–û–í–´–ï –°–¶–ï–ù–ê–†–ò–ò ==========
    
    # 1. –û–Ω–±–æ—Ä–¥–∏–Ω–≥: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤–æ–ø—Ä–æ—Å—ã, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏.
    "onboarding": [
        _m("/start"),
        _m("–ú–∞—Ä–∏—è"),  # –ò–º—è
        _m("Europe/Moscow"),  # –¢–∞–π–º–∑–æ–Ω–∞
        _m("08:00"),  # –ü–æ–¥—ä–µ–º
        _m("23:00"),  # –û—Ç–±–æ–π
        _br("üè† –î–æ–º"),  # –û—Ç–∫–∞–∑ –æ—Ç –∞—É–¥–∏—Ç–∞ –ø–æ–∫–∞ —á—Ç–æ, –∏–¥–µ–º –≤ –º–µ–Ω—é
    ],

    # 2. –£—Ç—Ä–æ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á.
    "morning_routine": [
        _m("/start"),
        _br("üìÖ –°–µ–≥–æ–¥–Ω—è"),
        _bi("–ü–ª–∞–Ω –Ω–∞ –¥–µ–Ω—å"),  # –†–∞—Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏
        _br("üìù –ü–ª–∞–Ω"),  # –í—Ö–æ–¥ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    ],

    # 3. –ï–¥–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∞–¥–æ–≤–∫–∏, —Å–ø–∞—Å–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
    "food_management": [
        _m("/start"),
        _br("ü•¶ –ï–¥–∞"),
        _br("üì¶ –ö–ª–∞–¥–æ–≤–∫–∞"),
        # –°–∏–º—É–ª—è—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞ —Ä—É—á–∫–∞–º–∏
        _m("–∫—É–ø–∏–ª–∞ –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±"),
        _br("üì¶ –ö–ª–∞–¥–æ–≤–∫–∞"),
        _br("üç≥ –°–ø–∞—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç—ã"),
    ],

    # 4. –î–æ–º: –ë—ã—Å—Ç—Ä–∞—è —É–±–æ—Ä–∫–∞.
    "cleaning_quick": [
        _m("/start"),
        _br("üßπ –î–æ–º"),
        _br("üßΩ –£–±–æ—Ä–∫–∞ —Å–µ–π—á–∞—Å"),
        _bi("‚ö° –ü–æ –≤–µ—Ä—Ö–∞–º (15 –º–∏–Ω)"),
        _bi("‚úÖ –ì–æ—Ç–æ–≤–æ"),
        _bi("‚úÖ –ì–æ—Ç–æ–≤–æ"),
        _br("üßπ –î–æ–º"),
    ],

    # 5. –õ–µ–∫–∞—Ä—Å—Ç–≤–∞: –û—Ç–º–µ—Ç–∫–∞
    "meds_check": [
        _m("/start"),
        _br("üíä –í–∏—Ç–∞–º–∏–Ω—ã"),
        _br("–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å—ë"),
    ],

    # ========== –†–ê–°–®–ò–†–ï–ù–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò ==========

    # 6. –§–∏–Ω–∞–Ω—Å—ã: –ó–∞–ø–∏—Å—å —Ç—Ä–∞—Ç—ã, –ø—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞
    "finance_flow": [
        _m("/start"),
        _br("üí∞ –î–µ–Ω—å–≥–∏"),
        _m("–ø–æ—Ç—Ä–∞—Ç–∏–ª–∞ 500 –Ω–∞ –µ–¥—É"),
        _m("–ø–æ—Ç—Ä–∞—Ç–∏–ª–∞ 150 –Ω–∞ –∫–æ—Ñ–µ"),
        _br("üí∞ –î–µ–Ω—å–≥–∏"),
        _bi("–°–µ–≥–æ–¥–Ω—è"),  # –°–º–æ—Ç—Ä–∏–º —Ç—Ä–∞—Ç—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è
    ],

    # 7. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä
    "reminders_flow": [
        _m("/start"),
        _m("–Ω–∞–ø–æ–º–Ω–∏ –∫—É–ø–∏—Ç—å —Ö–ª–µ–± –∑–∞–≤—Ç—Ä–∞ –≤ 10:00"),
        _m("–Ω–∞–ø–æ–º–Ω–∏ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –º–∞–º–µ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é"),
        _m("/reminders"),
    ],

    # 8. –°–ø—Ä–æ—Å–∏ –º–∞–º—É: –°–æ–≤–µ—Ç—ã –ø–æ —Å—Ç–∏—Ä–∫–µ –∏ —É–±–æ—Ä–∫–µ
    "ask_mom_laundry": [
        _m("/start"),
        _m("/ask_mom"),
        _bi("üß∫ –°—Ç–∏—Ä–∫–∞ –∏ –æ–¥–µ–∂–¥–∞"),
        _bi("–¢—ë–º–Ω—ã–µ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ"),
        _bi("–ù–µ–º–Ω–æ–≥–æ"),
    ],

    # 9. –°–ø—Ä–æ—Å–∏ –º–∞–º—É: –ì–æ—Ç–æ–≤–∫–∞
    "ask_mom_cooking": [
        _m("/start"),
        _m("/ask_mom"),
        _bi("üç≥ –ö—É—Ö–Ω—è –∏ –≥–æ—Ç–æ–≤–∫–∞"),
        _bi("–û–±—ã—á–Ω—ã–π"),  # –ø—Ä–æ—Ñ–∏–ª—å –ø–∏—Ç–∞–Ω–∏—è
        _m("–º–∞–∫–∞—Ä–æ–Ω—ã, –ø–æ–º–∏–¥–æ—Ä—ã, —è–π—Ü–∞"),
    ],

    # 10. –°–ø—Ä–æ—Å–∏ –º–∞–º—É: –ü–∞–Ω–∏–∫–∞
    "ask_mom_panic": [
        _m("/start"),
        _m("/ask_mom"),
        _bi("ü§Ø –ù–µ –∑–Ω–∞—é, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å"),
    ],

    # 11. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ / –ê—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–∏
    "affirmations": [
        _m("/start"),
        _m("/affirm"),
        _bi("–ï—â—ë –æ–¥–Ω—É"),
        _bi("–ï—â—ë –æ–¥–Ω—É"),
        _bi("–°–ø–∞—Å–∏–±–æ, —Ö–≤–∞—Ç–∏—Ç"),
    ],

    # 12. –ù–∞—Å—Ç—Ä–æ–π–∫–∏: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–Ω–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏
    "settings_flow": [
        _m("/start"),
        _m("/settings"),
        _bi("‚è∞ –†–µ–∂–∏–º –¥–Ω—è"),  # –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        _m("07:30"),  # –ù–æ–≤–æ–µ –≤—Ä–µ–º—è –ø–æ–¥—ä—ë–º–∞
    ],

    # 13. –î–≤–∏–∂–µ–Ω–∏–µ / –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
    "movement_flow": [
        _m("/start"),
        _br("üö∂ –î–≤–∏–∂–µ–Ω–∏–µ"),
        _bi("–ü—Ä–æ–≥—É–ª–∫–∞"),
        _bi("–°–¥–µ–ª–∞–ª–∞"),
    ],

    # 14. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    "stats_flow": [
        _m("/start"),
        _m("/stats"),
    ],

    # 15. –î–æ–º: –ë—ã—Å—Ç—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
    "home_scenarios": [
        _m("/start"),
        _br("üßπ –î–æ–º"),
        _bi("‚ö° –ë—ã—Å—Ç—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏"),
    ],

    # 16. –î–æ–º: –ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è
    "home_supplies": [
        _m("/start"),
        _br("üßπ –î–æ–º"),
        _bi("üß¥ –ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è"),
    ],

    # 17. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫: –†–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
    "natural_language": [
        _m("/start"),
        _m("—Å–¥–µ–ª–∞–ª–∞"),  # –û—Ç–º–µ—Ç–∏—Ç—å —Ä—É—Ç–∏–Ω—É
        _m("–ø–æ—Ç—Ä–∞—Ç–∏–ª–∞ 200 —Ä—É–±–ª–µ–π –Ω–∞ —Ç–∞–∫—Å–∏"),
        _m("–Ω–∞–ø–æ–º–Ω–∏ –ø–æ–ª–∏—Ç—å —Ü–≤–µ—Ç—ã —á–µ—Ä–µ–∑ 3 –¥–Ω—è"),
        _m("–∫—É–ø–∏–ª–∞ —è–±–ª–æ–∫–∏ –∏ –±–∞–Ω–∞–Ω—ã"),
    ],

    # 18. –î–æ–º: –ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é
    "home_weekly_plan": [
        _m("/start"),
        _br("üßπ –î–æ–º"),
        _bi("üìÖ –ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é"),
    ],

    # 19. –î–æ–º: –í—Å–µ –¥–µ–ª–∞ –ø–æ –¥–æ–º—É
    "home_all_tasks": [
        _m("/start"),
        _br("üßπ –î–æ–º"),
        _bi("üìã –í—Å–µ –¥–µ–ª–∞ –ø–æ –¥–æ–º—É"),
    ],

    # 20. –ï–¥–∞: –ú–µ–Ω—é —Ñ—É–Ω–∫—Ü–∏–π
    "food_full_menu": [
        _m("/start"),
        _br("üçΩ –ï–¥–∞"),
        _bi("–¢–∞—Ä–µ–ª–∫–∞ –¥–Ω—è"),
        _m("/start"),
        _br("üçΩ –ï–¥–∞"),  
        _bi("–ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã"),
        _m("/start"),
        _br("üçΩ –ï–¥–∞"),
        _bi("–ò–∑ —Ç–æ–≥–æ, —á—Ç–æ –µ—Å—Ç—å"),
    ],

    # 21. –ü–æ–º–æ—â—å
    "help_flow": [
        _m("/start"),
        _m("/help"),
    ],

    # 22. –î–æ–Ω–∞—Ç
    "donate_flow": [
        _m("/start"),
        _m("/donate"),
    ],

    # 23. –¢–µ—Å—Ç –ö—É—Ö–Ω–∏ 2.0
    "kitchen_testing": [
        _m("üçΩ –ï–¥–∞"),
        _bi("‚ùÑÔ∏è –ú–æ–π —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫"), # kitchen:fridge
        _bi("‚ûï –î–æ–±–∞–≤–∏—Ç—å"),       # fridge:add
        _m("–ú–æ–ª–æ–∫–æ 1 –ª"),        # Input msg. Simulates State machine input? 
                                 # _m usually sends text. If bot is in state, it accepts text.
                                 # But sim might need state hint? _m definition in file: def _m(text): ...
                                 # kitchen_testing in prev version had `state="KitchenAddState:name"` which was also invalid arg for _m?
                                 # Let's check _m definition. It only creates ScenarioStep(type="message", text=text). 
                                 # So extra args were invalid there too.
        _bi("‚úÖ –í—Å—ë –≤–µ—Ä–Ω–æ"),     # confirm
        _bi("‚¨ÖÔ∏è –í –º–µ–Ω—é –∫—É—Ö–Ω–∏"),  # kitchen:back
        _bi("üìñ –ö–Ω–∏–≥–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤"),# kitchen:recipes
        _bi("üõí –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"),# kitchen:shoplist
    ],
    "cleaning_v2": [
        _m("üßπ –î–æ–º"),
        # Start cleaning (Inline)
        _bi("üßΩ –£–±–æ—Ä–∫–∞ —Å–µ–π—á–∞—Å"),
        # Select Kitchen (Custom inline toggle)
        _bi("‚¨ú üç≥ –ö—É—Ö–Ω—è"), 
        # Confirm (Should appear after toggle)
        _bi("üöÄ –ù–∞—á–∞—Ç—å"), 
        # Mode
        _bi("‚ú® –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è (15-20 –º–∏–Ω)"), 
        # Step 1 Done. 
        _bi("‚úÖ –ì–æ—Ç–æ–≤–æ (+XP)"),
        
        # Pause
        _bi("‚è∏ –ü–∞—É–∑–∞ / –°—Ç–æ–ø"),
        
        # Resume flow
        _m("üßπ –î–æ–º"),
        _bi("üßΩ –£–±–æ—Ä–∫–∞ —Å–µ–π—á–∞—Å"),
        # Prompt: "–£ —Ç–µ–±—è –µ—Å—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è..."
        _bi("‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"),
    ]
}


def list_scenarios() -> Dict[str, Scenario]:
    """–í–µ—Ä–Ω—É—Ç—å —Å–ª–æ–≤–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤."""

    return SCENARIOS


