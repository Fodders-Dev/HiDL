## Дом / Уборка

Цель: чтобы HiDL реально помогала убрать квартиру “как живой ассистент”, а не просто кидала чек-лист. Фокус:
- понятные сценарии по шагам;
- параллельные задачи (что можно “замочить” и забыть на время);
- отдельные режимы для зон: кухня, ванная, туалет, полы, стол/скатерть и т.д.;
- адаптация к тому, какие средства и инвентарь у пользователя реально есть;
- поддерживающий тон, без шейминга — особенно если уборка размазывается на несколько дней.

---

### 1. Режимы уборки: цель и охват

- [ ] В сценариях уборки всегда задавать **цель и масштаб**, а не время “N минут”:
  - “Поддерживающая уборка” — чтобы дом не сползал в хаос (легкая разгреба, посуда, поверхность стола, раковина, базовые полы).
  - “Привести квартиру в чувство” — когда уже бардак, нужно подтянуть основные зоны (кухня, ванная/туалет, вещи, мусор, базовые полы).
  - В будущем — “Глубокая уборка по зонам” (отдельные большие сценарии для кухни/ванны/духовки и т.д.), но без названия “генеральная за 2 часа”.

- [ ] На старте “Уборка сейчас” (и/или отдельный сценарий “Привести квартиру в чувство”) спрашивать:
  - “Что хочешь сейчас сделать?”:
    - “Чуть-чуть навести порядок (поддерживающая).”
    - “У меня бардак, хочу привести квартиру в чувство.”
  - “Какие зоны трогаем?”:
    - чекбоксы: `Кухня`, `Ванная`, `Туалет`, `Комната/зал`, `Спальня`, `Коридор`, `Только посуда`, `Только полы`.
  - от этого зависят шаги сценария (не пихать пользователю ванну, если он выбрал только кухню и посуду).

---

### 2. Общий паттерн: параллельные задачи → мусор → вещи → домывка → полы

Сформировать “скелет” большого сценария уборки, который HiDL переиспользует:

1. **Запустить то, что может работать фоном**:
   - замочить сантехнику и плитку;
   - замочить посуду;
   - при необходимости — включить стирку, посудомойку, робот-пылесос;
   - открыть окна/форточки для проветривания (если это ок для пользователя).

2. **Собрать мусор и грубый хаос**:
   - один проход с пакетом по квартире;
   - выкинуть явный мусор, собрать бутылки/банки/бумаги;
   - если по ходу что-то легко вернуть “на место” — можно, но не зависать.

3. **Разбор вещей и поверхностей**:
   - разбор одежды (на стирку / в шкаф / на стул);
   - привести в порядок горизонтальные поверхности (стол, тумбочки, “хаос-угол”).

4. **Домыть/смыть то, что замачивалось**:
   - вернуться к ванне, раковине, унитазу, плите/раковине кухни;
   - смыть средство, пройтись щёткой/губкой, вытереть.

5. **Полы**:
   - сначала подмести/пройтись совком, потом — мытьё полов (по правилам: из дальних комнат к выходу).

6. **Финальные штрихи**:
   - заменить постельное (чаще после того, как пыль/полы сделаны, но можно настраивать);
   - вытереть воду вокруг раковин;
   - поставить мусорные пакеты новые, проверить, что всё ок.

- [ ] Зафиксировать этот паттерн в коде как сценарий, где каждый шаг:
  - показывается отдельным блоком;
  - имеет кнопку `✅ Сделал(а)` / `⏭ Пропустить` / `⏹ Стоп, на сегодня хватит`;
  - может быть продолжен на следующий день (состояние сценария хранится).

---

### 3. Шаг 0: параллельные задачи

То, что можно запустить **до** активной беготни:

- [ ] Сценарий “запустить фон” (если выбраны соответствующие зоны):

  - Кухня:
    - “Если есть раковина с посудой — залей горячей водой с каплей средства для посуды, пусть постоит.”
    - “Если плита/стол зажирены — слегка смочи, нанеси средство (СИФ/универсальный, либо раствор из подручных средств), размажь и оставь.”
    - Если есть посудомойка — предложить загрузить/запустить.

  - Ванная/туалет:
    - “Залей средство в унитаз (гелевое/универсальное) по кругу, оставь.”
    - “Смочи ванну/раковину, посыпь Пемолюксом/другим порошком или нанеси кремовое средство, слегка прошеркай и оставь.”
    - Отметить, что сейчас “замочены” ванна/раковина/унитаз, чтобы потом вернуть пользователя к этим шагам.

  - Стирка:
    - Только если пользователь явно сказал, что **хочет** параллельно включить стирку:
      - короткая подсказка, как набрать барабан, что не мешать уборке (не заставлять его зависать у стиралки).
      - если он не хочет — не наседать.

  - Проветривание:
    - “Если не дубак и это безопасно — открой окно или форточку хотя бы в одной комнате, чтобы воздух обновился.”

- [ ] Хранить в состоянии сценария список “фоновых задач” (что сейчас замочено/запущено), чтобы позже напомнить: “Пора вернуться к ванне/раковине/плите.”

---

### 4. Мусор и грубый хаос

- [ ] Сценарий “проход с пакетом”:
  - HiDL даёт простой, очень конкретный шаг:
    - “Возьми один пакет для мусора и пройдись по всем комнатам. Собери всё, что:
      - явно мусор (упаковки, чеки, бумажки),
      - пустые бутылки/банки (по возможности — в отдельный пакет под сдачу/переработку),
      - сломанные вещи, которые точно не будешь чинить.”
  - После `✅ Сделал(а)`:
    - предложить вынести мусор, если есть время/сила;
    - либо оставить у двери (но желательно не забыть).

- [ ] Параллельно можно разрешить “по пути” ставить вещи на место, **но не требовать этого** — чтобы не перегружать.

---

### 5. Разбор вещей и поверхностей

#### 5.1. Одежда

- [ ] Отдельный микро-сценарий по одежде:
  - “Собери всю одежду, которая валяется, в один из трёх стеков:
    - на стирку;
    - чистая, но не на месте (сложить стопкой);
    - “не уверен(а)” (коробка/стул на потом).”
  - Можно подключить лайфхак в /ask_mom типа “что делать, если везде куча одежды”.

#### 5.2. Хаос на столах и полках

- [ ] Для кухни/стола:
  - подсказки уровня:
    - “Сладкое к сладкому (печеньки, шоколадки), чай/кофе в один угол, соусы/масла — в другой, предметы не с кухни — отдельно.”
    - “Если скатерть убита пятнами и не отмывается — честно предложить: давай запишем ‘поменять скатерть’, а не мучить тебя.”
  - поддерживающий тон: не ругать за “запущенный стол”.

- [ ] Для “хаос-угла”:
  - сценарий “разбор хаос-угла за один заход”:
    - 10–15 минут, одна полка/стол;
    - вещи делим на: выбросить / оставить на этом месте / перенести в другое место / в коробку “разобрать потом”.
  - Главное — не требовать идеала; фиксировать даже частичный прогресс.

---

### 6. Отдельные сценарии по зонам

Чтобы пользователь мог не запускать “уборку дома в целом”, а зайти в “как помыть конкретно это”.

#### 6.1. Ванная / раковина / унитаз

- [ ] Сценарий “Ванная и раковина”:
  - если у пользователя **есть** спецсредство — подсказка как им пользоваться;
  - если **нет** — варианты с Пемолюксом, уксусом, обычным средством для посуды:
    - “Смочи поверхность, посыпь/нанеси средство, немного прошеркай, оставь на 5–10 минут, потом промой.”
  - Напомнить про смыв Пемолюкса (чтобы не осталось песка).

- [ ] Сценарий “Унитаз”:
  - заливка средства под ободок;
  - выждать, потом щётка, потом смыть;
  - лайфхак: не забывать чистить внешние поверхности и кнопку/ручку.

#### 6.2. Кухня: раковина, стол, плита, духовка

- [ ] Раковина и зона вокруг:
  - разбор посуды (отдельно есть сценарий для посуды, см. ниже);
  - **после мойки посуды**:
    - напоминание: “Не забудь протереть вокруг раковины оставшуюся воду, чтобы не было разводов и плесени.”

- [ ] Стол:
  - короткий сценарий:
    - убрать предметы не со стола (очки, зарядки, документы) в одну “коробку/папку”;
    - протереть стол (опция: с безопасным для поверхности средством);
    - если есть скатерть — решение:
      - либо протереть;
      - либо (если она реально убита) — “записать ‘купить новую скатерть’ и не мучить”.

- [ ] Плита:
  - Если есть СИФ/крем:
    - “Нанеси на тёплую, но не горячую плиту, распределяй, оставь, потом мягкой губкой/тряпкой пройди и вытри.”
  - Если только подручные:
    - смеси типа “сода + немного воды до кашицы” для жирных пятен;
    - или “горячая вода + средство для посуды”.

- [ ] Духовка:
  - отдельная карточка/сценарий (возможно, не в каждую уборку):
    - опции: уксус/сода + тепло для размягчения жира;
    - лайфхак: поставить внутрь жаростойкую ёмкость с водой/уксусом, дать пару, потом протереть.
  - Не подталкивать делать духовку каждый раз, но:
    - если пользователь сам пожаловался “духовка ужас” — предложить сценарий и разделить работу на 2 захода (сегодня размягчили и протёрли самое очевидное, остальное потом).

#### 6.3. Посуду

- [ ] Отдельный “микро-режим” для посуды:
  - “Если гора — сначала замочить, потом мыть по типам (стаканы → тарелки → кастрюли/сковороды).”
  - Предлагать включить музыку/подкаст, позиционировать как “время для себя”.
  - После завершения:
    - “Проверь, не осталось ли жирных сковородок/кастрюль в стороне.”
    - “Протри поверхность вокруг раковины/смесителя.”

#### 6.4. Полы

- [ ] Сценарий “Полы” как отдельный:
  - Шаги:
    1. “Пройди по квартире с совком/щёткой/пылесосом: собери крупный мусор.”
    2. “Налей в ведро тёплую воду + средство для пола (или немного средства для посуды, если другого нет).”
    3. “Мой пол из дальних комнат к выходу, не забывая отжимать тряпку, чтобы не устраивать озеро.”
    4. “Если вода стала совсем грязной — вылей, набери свежую, не геройствуй.”
  - В сценарии не нужно подробно расписывать типы полов, но:
    - в /ask_mom будут карточки “как мыть ламинат/плитку/линолеум без вреда”.

---

### 7. Управление инвентарём и химией

- [ ] В будущем — простая “анкета про дом”:
  - “Что у тебя точно есть из химии?” — чекбоксами:
    - Порошок типа Пемолюкс;
    - универсальное средство (СИФ и аналоги);
    - средство для унитаза;
    - средство для полов;
    - уксус, сода, обычное мыло/средство для посуды и т.д.
  - Это не обязаловка, а настройка, чтобы HiDL не советовала средство, которого нет.

- [ ] На основе этой анкеты выбирать рецепты:
  - Если есть спецсредство — давать сценарий с ним.
  - Если нет — давать сценарий с подручными (уксус, сода, средство для посуды и т.д.).

- [ ] Отдельная “мамина” карточка:
  - “Минимальный набор для уборки в однушке” — уже есть концепт, сюда его привязать как справку, а не первый шаг каждого сценария.

---

### 8. Рутины и дом

(связка ежедневных рутин с домашними делами и таблетками)

- [ ] Редактируемые утренняя/дневная/вечерняя рутина:
  - пользователь может добавлять/убирать пункты:
    - “позавтракать”, “помыть посуду”, “выкинуть мусор”, “пропылесосить ковёр”, “сделать 5-минутную разгребу”.

- [ ] Поддержка **зависимых шагов**:
  - пример: после пункта “позавтракать” автоматически появляется пункт “выпить магний/таблетку” (если включено в настройках).
  - оба шага дают свои очки:
    - “позавтракал(а)” — одни,
    - “выпил(а) таблетки после еды” — другие.

- [ ] Интеграция с уборкой:
  - часть домашней рутины может быть реализована через те же сценарии:
    - утром: “быстро убрать со стола и раковины”;
    - вечером: “загрузить посуду/замочить, протереть плиту”;
    - раз в N дней — “микро-уборка в ванной”.

---

### 9. Продолжение уборки на следующий день

- [ ] Учитывать реальность: генеральная/серьёзная уборка редко укладывается в один день.
  - В сценарии хранить:
    - какие шаги сделаны;
    - какие зоны закрыты, какие нет (например, остались только полы и плитка в ванной).

- [ ] Если пользователь на следующий день запускает “Дом / Уборка”:
  - HiDL может мягко предложить:
    - “Вчера ты уже сделал(а) много, осталось вот это: полы и плитка в ванной. Продолжим с этого?”  
  - Без чувства вины, только поддержка.

---

### 10. Интеграция с Ask Mom (точечно для уборки)

- [ ] Для каждой сложной зоны (ванна, плита, духовка, полы, стол/скатерть) — карточки в `mom_tips`:
  - “чем заменить спецсредства, если их нет”;
  - “что делать, если нет сил на полноценную уборку, но хочется сделать хотя бы чуть-чуть”;
  - “как проветривать, если на улице холодно” и т.п.

- [ ] Из сценариев уборки давать ссылку на “мамины” советы:
  - например: в шаге про духовку — кнопка `Спросить маму, как лучше отмыть` → нужная карточка.

---

### 11. Геймификация именно за уборку

(частично уже есть в спринте 2.5, здесь — более “поведенческий” фокус)

- [ ] Отдельно считать:
  - сколько дел по дому закрыто за последние 7 дней;
  - сколько “подходов” к уборке было (даже если не всё сделали).

- [ ] В `/stats`:
  - не просто “X очков за дом”, а:
    - “за последние 7 дней ты:
      - 3 раза запускал(а) уборку,
      - 5 раз выносил(а) мусор,
      - 2 раза полностью закрывал(а) план по дому.”

- [ ] Поддерживающие тексты:
  - акцент не на “ты опять не помыл полы”, а на:
    - “ты уже разгрузил(а) посуду и ванную, это реально много, полы можно добить завтра.”

